<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Stock & News Dashboard</title>
    <link rel="stylesheet" href="./style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 네이버 클라우드 플랫폼 Maps API -->
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=wohmf5ntoz&callback=initNaverMap"></script>
</head>
<body>
    <!-- <header>
        <h1>오늘의 주가 및 주요 뉴스</h1>
    </header> -->
    
    <!-- 메인 탭 네비게이션 -->

    <nav class="main-nav">
        <div class="main-tab-buttons">
            <button class="main-tab-button active" data-tab="economy-main-tab" style="height: 40px; padding: 2px 10px; font-size: 1.2em;">경제</button>
            <button class="main-tab-button" data-tab="realestate-map-main-tab" style="height: 40px; padding: 2px 10px; font-size: 1.2em;">부동산맵</button>
        </div>
        <div class="main-nav-extra-buttons" style="display: flex; gap: 8px; justify-content: flex-end; align-items: center; margin: 0; padding: 0; background: none; box-shadow: none; border: none; font-size: 0.95em; line-height: 1;">
            <!-- 필요시 버튼 추가 -->
        </div>
    </nav>
    
    <!-- 경제 메인 탭 (주식 + 경제뉴스) -->
    <div id="economy-main-tab" class="main-tab-content active">
        <!-- 기본 주식 정보 -->
        <section id="stock">
            <h2>주식 정보</h2>
            <div class='stock-table-wrap'><div>주요 미국 주식 종가 변동(2025-10-30 14:39)</div><table class='stock-table'><tr><th>종목</th><th>종가</th><th>변동</th></tr><tr><td>NASDAQ</td><td>23958.47</td><td class='up'>&#9650; (+0.5%, +130.98)</td></tr><tr><td>AAPL</td><td>269.70</td><td class='up'>&#9650; (+0.3%, +0.70)</td></tr><tr><td>MSFT</td><td>541.55</td><td class='down'>&#9660; (-0.1%, -0.52)</td></tr><tr><td>NVDA</td><td>207.04</td><td class='up'>&#9650; (+3.0%, +6.01)</td></tr><tr><td>AMZN</td><td>230.30</td><td class='up'>&#9650; (+0.5%, +1.05)</td></tr><tr><td>META</td><td>751.67</td><td class='up'>&#9650; (+0.0%, +0.23)</td></tr><tr><td>GOOGL</td><td>274.57</td><td class='up'>&#9650; (+2.7%, +7.10)</td></tr><tr><td>TSLA</td><td>461.51</td><td class='up'>&#9650; (+0.2%, +0.96)</td></tr><tr><td>BTC(Upbit)</td><td>163,793,000원</td><td class='down'>&#9660; (-0.5%, -824000)</td></tr><tr><td>KOSPI</td><td>4,072.24</td><td class='down'>&#9660; (-0.2%, -8.91)</td></tr></table></div>
            <h2>나스닥 이동평균선</h2>
            <div id="ma-graphs">
                
    <!-- 나스닥 차트 영역 -->
    <div id="nasdaqChart" style="width:100%; height:350px;"></div>
    <!-- Plotly.js CDN -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- 파이썬에서 JS로 데이터 전달 -->
    <script>
    window.nasdaqData = {
        "labels": ["2025-02-13", "2025-02-14", "2025-02-18", "2025-02-19", "2025-02-20", "2025-02-21", "2025-02-24", "2025-02-25", "2025-02-26", "2025-02-27", "2025-02-28", "2025-03-03", "2025-03-04", "2025-03-05", "2025-03-06", "2025-03-07", "2025-03-10", "2025-03-11", "2025-03-12", "2025-03-13", "2025-03-14", "2025-03-17", "2025-03-18", "2025-03-19", "2025-03-20", "2025-03-21", "2025-03-24", "2025-03-25", "2025-03-26", "2025-03-27", "2025-03-28", "2025-03-31", "2025-04-01", "2025-04-02", "2025-04-03", "2025-04-04", "2025-04-07", "2025-04-08", "2025-04-09", "2025-04-10", "2025-04-11", "2025-04-14", "2025-04-15", "2025-04-16", "2025-04-17", "2025-04-21", "2025-04-22", "2025-04-23", "2025-04-24", "2025-04-25", "2025-04-28", "2025-04-29", "2025-04-30", "2025-05-01", "2025-05-02", "2025-05-05", "2025-05-06", "2025-05-07", "2025-05-08", "2025-05-09", "2025-05-12", "2025-05-13", "2025-05-14", "2025-05-15", "2025-05-16", "2025-05-19", "2025-05-20", "2025-05-21", "2025-05-22", "2025-05-23", "2025-05-27", "2025-05-28", "2025-05-29", "2025-05-30", "2025-06-02", "2025-06-03", "2025-06-04", "2025-06-05", "2025-06-06", "2025-06-09", "2025-06-10", "2025-06-11", "2025-06-12", "2025-06-13", "2025-06-16", "2025-06-17", "2025-06-18", "2025-06-20", "2025-06-23", "2025-06-24", "2025-06-25", "2025-06-26", "2025-06-27", "2025-06-30", "2025-07-01", "2025-07-02", "2025-07-03", "2025-07-07", "2025-07-08", "2025-07-09", "2025-07-10", "2025-07-11", "2025-07-14", "2025-07-15", "2025-07-16", "2025-07-17", "2025-07-18", "2025-07-21", "2025-07-22", "2025-07-23", "2025-07-24", "2025-07-25", "2025-07-28", "2025-07-29", "2025-07-30", "2025-07-31", "2025-08-01", "2025-08-04", "2025-08-05", "2025-08-06", "2025-08-07", "2025-08-08", "2025-08-11", "2025-08-12", "2025-08-13", "2025-08-14", "2025-08-15", "2025-08-18", "2025-08-19", "2025-08-20", "2025-08-21", "2025-08-22"],
        "close_data": [19945.64, 20026.77, 20041.26, 20056.25, 19962.36, 19524.01, 19286.93, 19026.39, 19075.26, 18544.42, 18847.28, 18350.19, 18285.16, 18552.73, 18069.26, 18196.22, 17468.32, 17436.1, 17648.45, 17303.01, 17754.09, 17808.66, 17504.12, 17750.79, 17691.63, 17784.05, 18188.59, 18271.86, 17899.02, 17804.03, 17322.99, 17299.29, 17449.89, 17601.05, 16550.61, 15587.79, 15603.26, 15267.91, 17124.97, 16387.31, 16724.46, 16831.48, 16823.17, 16307.16, 16286.45, 15870.9, 16300.42, 16708.05, 17166.04, 17382.94, 17366.13, 17461.32, 17446.34, 17710.74, 17977.73, 17844.24, 17689.66, 17738.16, 17928.14, 17928.92, 18708.34, 19010.09, 19146.81, 19112.32, 19211.1, 19215.46, 19142.71, 18872.64, 18925.74, 18737.21, 19199.16, 19100.94, 19175.87, 19113.77, 19242.61, 19398.96, 19460.49, 19298.45, 19529.95, 19591.24, 19714.99, 19615.88, 19662.49, 19406.83, 19701.21, 19521.09, 19546.27, 19447.41, 19630.97, 19912.53, 19973.55, 20167.91, 20273.46, 20369.73, 20202.89, 20393.13, 20601.1, 20412.52, 20418.46, 20611.34, 20630.66, 20585.53, 20640.33, 20677.8, 20730.49, 20885.65, 20895.65, 20974.18, 20892.69, 21020.02, 21057.96, 21108.32, 21178.58, 21098.29, 21129.67, 21122.45, 20650.13, 21053.58, 20916.55, 21169.42, 21242.7, 21450.02, 21385.4, 21681.9, 21713.14, 21710.67, 21622.98, 21629.77, 21314.95, 21172.86, 21100.31, 21506.38],
        "ma120": [18824.88, 18844.95, 18862.97, 18882.4, 18900.79, 18917.19, 18931.95, 18942.89, 18959.04, 18971.21, 18985.54, 18999.37, 19011.04, 19023.76, 19029.38, 19034.6, 19032.8, 19031.5, 19031.67, 19029.42, 19027.25, 19026.09, 19022.17, 19019.47, 19016.22, 19012.83, 19013.41, 19014.1, 19014.0, 19013.0, 19008.03, 19001.04, 18997.09, 18992.25, 18977.74, 18955.29, 18932.45, 18905.5, 18895.58, 18879.08, 18865.34, 18851.52, 18837.21, 18818.27, 18801.69, 18780.48, 18762.0, 18746.5, 18733.62, 18723.41, 18717.33, 18710.84, 18704.73, 18698.66, 18690.28, 18678.4, 18665.09, 18652.09, 18640.81, 18629.96, 18626.63, 18629.38, 18632.34, 18633.38, 18635.42, 18637.45, 18638.61, 18637.09, 18635.02, 18632.32, 18632.17, 18629.64, 18627.1, 18621.92, 18618.11, 18614.27, 18611.97, 18608.73, 18604.52, 18601.92, 18600.16, 18595.51, 18591.79, 18591.9, 18594.64, 18594.21, 18592.39, 18587.53, 18584.28, 18585.87, 18589.92, 18597.07, 18605.34, 18611.57, 18614.39, 18621.92, 18631.27, 18641.69, 18652.78, 18665.84, 18675.17, 18685.56, 18693.98, 18701.65, 18707.66, 18714.6, 18722.44, 18736.04, 18745.7, 18757.27, 18768.73, 18781.08, 18795.96, 18808.0, 18819.98, 18831.06, 18840.45, 18851.61, 18862.22, 18874.88, 18885.69, 18897.55, 18908.75, 18922.3, 18936.89, 18955.11, 18974.58, 18996.27, 19014.94, 19036.84, 19055.62, 19081.92],
        "ma200": [18190.89, 18211.11, 18233.03, 18255.28, 18275.89, 18292.73, 18307.42, 18320.88, 18334.75, 18345.74, 18358.27, 18368.08, 18376.95, 18386.0, 18392.86, 18400.41, 18403.77, 18406.79, 18411.03, 18413.86, 18418.03, 18421.97, 18424.89, 18429.96, 18434.74, 18439.52, 18446.18, 18451.6, 18455.22, 18458.58, 18459.23, 18459.01, 18458.22, 18457.89, 18452.19, 18440.85, 18429.55, 18417.28, 18414.46, 18408.91, 18403.95, 18399.08, 18393.9, 18386.78, 18378.81, 18368.02, 18358.58, 18350.36, 18344.17, 18338.94, 18332.53, 18328.42, 18323.66, 18319.85, 18317.19, 18316.43, 18315.52, 18315.58, 18315.18, 18314.84, 18321.67, 18330.81, 18339.76, 18348.47, 18358.79, 18366.87, 18376.61, 18387.09, 18400.72, 18412.57, 18427.59, 18439.79, 18451.94, 18463.61, 18473.89, 18484.92, 18494.25, 18502.58, 18510.85, 18519.72, 18528.7, 18538.68, 18547.6, 18556.01, 18565.74, 18575.57, 18585.72, 18594.39, 18606.86, 18621.0, 18635.23, 18652.61, 18669.56, 18686.28, 18700.32, 18714.43, 18729.02, 18743.12, 18757.07, 18772.26, 18785.35, 18798.53, 18811.86, 18824.88, 18838.12, 18851.6, 18865.48, 18879.4, 18894.31, 18909.79, 18925.49, 18940.34, 18956.61, 18971.19, 18985.38, 18999.58, 19011.12, 19023.87, 19036.88, 19050.89, 19065.23, 19080.03, 19094.26, 19109.77, 19126.95, 19143.43, 19158.95, 19174.27, 19187.28, 19200.1, 19215.13, 19231.46]
    };
    </script>
    <!-- 차트 렌더링 및 이벤트는 nasdaq_chart.js에서 처리 -->
    <script src="nasdaq_chart.js"></script>
    
            </div>
        </section>
        
        <!-- 오늘의 미국 주식 요약 -->
        
        <section class="stock-summary-section" style="margin-bottom:24px;">
            <h2 style="font-size:1.1em; margin-bottom:8px;">오늘의 미국 주식 요약</h2>
            <div style="font-size:0.98em; line-height:1.7; background:#f8fafc; border-radius:8px; padding:16px; border:1px solid #e2e8f0; position:relative;">
                <button id="copy-summary-btn" title="요약 복사" style="position:absolute; top:10px; right:10px; background:none; border:none; cursor:pointer; padding:2px;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#888" viewBox="0 0 20 20"><rect x="6" y="2" width="9" height="14" rx="2" fill="#e2e8f0" stroke="#888" stroke-width="1"/><rect x="3" y="5" width="9" height="13" rx="2" fill="none" stroke="#888" stroke-width="1"/></svg>
                </button>
                <pre id="stock-summary-pre" style="white-space:pre-wrap; font-family:inherit; background:none; border:none; margin:0;">1. 미·중 무역 협상과 중국 관세 인하 기대
트럼프 대통령은 중국의 펜타닐 문제 해결을 위한 관세 인하 가능성을 언급하며, 미·중 무역 합의에 대한 기대감을 높였습니다. 이는 중국 수입품의 관세가 55%에서 45%로 낮아질 수 있음을 의미합니다. 중국의 미국산 대두 구매 소식은 무역 협상의 긍정적 신호로 해석됩니다.

2. 엔비디아와 AI 칩 수요 증가
엔비디아는 블랙웰 칩 매출이 5000억 달러를 넘어설 것으로 예상하며, 중국 수출이 허용될 경우 매출이 더 증가할 가능성이 있습니다. AI 칩 수요 증가로 SK하이닉스, 어드반테스트 등 관련 기업들의 실적이 크게 개선되었습니다. 엔비디아 주가는 트럼프 대통령의 발언으로 상승세를 보였습니다.

3. 연준의 금리 인하와 시장 반응
연준은 기준금리를 25bp 인하하고 양적 긴축을 종료하기로 결정했습니다. 파월 의장은 12월 금리 인하가 미리 결정된 것이 아니라고 강조하며 시장에 불확실성을 더했습니다. 이에 따라 S&P500 지수는 내림세로 전환되었고, 시장은 금리 인하 가능성을 재평가하고 있습니다.</pre>
                <div style="text-align:left; margin-top:8px;"><a href="https://www.hankyung.com/article/202510301440i" target="_blank" rel="noopener" style="color:#2563eb; text-decoration:underline; font-size:0.8em;">기사 원문 바로가기</a></div>
            </div>
            <div id="stock-summary-toast" style="display:none; position:fixed; bottom:40px; left:50%; transform:translateX(-50%); background:#222; color:#fff; padding:10px 22px; border-radius:6px; font-size:1em; z-index:9999; opacity:0.95; box-shadow:0 2px 8px rgba(0,0,0,0.15);">복사 되었습니다.</div>
            <script>
            function showToast(msg) {
                var toast = document.getElementById('stock-summary-toast');
                if (!toast) return;
                toast.textContent = msg;
                toast.style.display = 'block';
                toast.style.opacity = '0.95';
                setTimeout(function() { toast.style.opacity = '0'; }, 1200);
                setTimeout(function() { toast.style.display = 'none'; }, 1600);
            }
            document.addEventListener('DOMContentLoaded', function() {
                var btn = document.getElementById('copy-summary-btn');
                var handler = function() {
                    var pre = document.getElementById('stock-summary-pre');
                    if (pre) {
                        var text = pre.innerText;
                        navigator.clipboard.writeText(text).then(function() {
                            showToast('복사 되었습니다.');
                            btn.title = '복사됨!';
                            btn.style.opacity = '0.6';
                            setTimeout(function() { btn.title = '요약 복사'; btn.style.opacity = '1'; }, 1200);
                        });
                    }
                };
                if (btn) {
                    btn.addEventListener('click', handler);
                    btn.addEventListener('touchstart', handler);
                }
            });
            </script>
        </section>
            
        
        <section id="economy">
            <h2>경제 뉴스</h2>
            
    <div class='news-header'>주요 경제 뉴스(2025-10-30 14:39)</div>
    <ul class='news-list'>
    <li><a href='https://n.news.naver.com/mnews/article/011/0004549804' target='_blank'>• 삼성운용, '코스피 4000' 돌파 특집 웹세미나 개최</a></li><li><a href='https://n.news.naver.com/mnews/article/648/0000041255' target='_blank'>• '자큐보 질주' 온코닉, 3Q 사상 최대 실적</a></li><li><a href='https://n.news.naver.com/mnews/article/277/0005672162' target='_blank'>• LS증권, 대학생 주식투자 강연회 명지대편 개최</a></li><li><a href='https://n.news.naver.com/mnews/article/277/0005672163' target='_blank'>• NH투자증권, 인사 단행 및 내부통제 강화 TFT 신설</a></li><li><a href='https://n.news.naver.com/mnews/article/243/0000087207' target='_blank'>• "어디까지 오르나" 삼성전자, 또 사상최고…젠슨 황과 '치맥' 회동 앞둬</a></li><li><a href='https://n.news.naver.com/mnews/article/421/0008574303' target='_blank'>• 미중 정상회담 직후 중화권 증시 일제 하락 반전, 항셍 0.64%↓(상보)</a></li></ul></div>
        </section>


    </div>
    
    <!-- 부동산맵 메인 탭 -->
    <div id="realestate-map-main-tab" class="main-tab-content">
        <!-- 부동산 매매지수 지도 -->
        <section class="map-s<section class="map-section" style="padding-right: 5px;padding-left: 5px;padding-top: 5px;">
            <h2>부동산 매매지수 지도</h2>
            <div class="map-controls">
                <div class="map-type-buttons">
                    <button class="map-type-btn active" onclick="changeMapDisplay('index')">매매지수</button>
                    <button class="map-type-btn" onclick="changeMapDisplay('weekly_change')">주간변동</button>
                    <button class="map-type-btn" onclick="changeMapDisplay('monthly_change')">월간변동</button>
                </div>
                <!-- map-legend moved below -->
            </div>
            <div class="naver-map-container">
                <div id="naver-map-realestate" style="margin-bottom: 10px;"></div>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                <small style="font-size: 13px; color: #4a5568;">업데이트: <span id="update-date"></span></small>
                <div class="map-legend" style="display: flex; gap: 10px; align-items: center;">
                    <div class="legend-item" style="display: flex; align-items: center; gap: 4px;">
                        <div class="legend-color" style="background: #ff4444; width: 16px; height: 16px; border-radius: 50%; border: 2px solid #fff;"></div>
                        <span style="font-size: 12px; color: #333;">높음</span>
                    </div>
                    <div class="legend-item" style="display: flex; align-items: center; gap: 4px;">
                        <div class="legend-color" style="background: #ffaa00; width: 16px; height: 16px; border-radius: 50%; border: 2px solid #fff;"></div>
                        <span style="font-size: 12px; color: #333;">보통</span>
                    </div>
                    <div class="legend-item" style="display: flex; align-items: center; gap: 4px;">
                        <div class="legend-color" style="background: #44ff44; width: 16px; height: 16px; border-radius: 50%; border: 2px solid #fff;"></div>
                        <span style="font-size: 12px; color: #333;">낮음</span>
                    </div>
                </div>
            </div>
            <div class="map-info" style="margin-top: 10px;">
                <p>※ 지역을 클릭하면 상세 정보를 확인할 수 있습니다</p>
                <p>※ 매매지수: 2022년 1월 = 100.0 기준</p>
                <p>※ 데이터 출처: KB부동산 통계</p>
            </div>

        </section>
        
        <!-- 월간매매지수 -->
        <section class="monthly-data-section">
            <h2>부동산 매매 가격지수 현황</h2>
            
        </section>
        
        <!-- 월간 거래량 차트 -->
        <section class="monthly-volume-section" 
                    style="
                padding-left: 5px;
                padding-right: 5px;
            ">
            <h2>월간 거래량</h2>
            <div id="monthly-transaction-chart"></div>
        </section>
        
        <!-- 주간 매매지수 차트 -->
        <section class="weekly-index-section"
            style="
                padding-left: 5px;
                padding-right: 5px;
            ">
            <h2>주간 매매지수</h2>
            <div id="weekly-index-chart"></div>
        </section>
    </div>
    <!-- JS 및 데이터는 body 끝에서 로드 -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <script>
    window.weeklyIndexData = "";
    window.monthlyIndexData = "";
    window.monthly_volume_data = window.monthlyIndexData;
    </script>
    <script src="js/nasdaq_chart.js"></script>
    <script src="js/weekly_index_chart.js"></script>
    <script src="js/monthly_transaction_chart.js"></script>
    <!-- 메인 탭 및 네이버맵 스크립트 -->
    <script src="js/main_tabs.js"></script>
    <script src="js/naver_map.js"></script>
    
    <!-- 오늘 날짜 표시 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const day = String(today.getDate()).padStart(2, '0');
            const updateDateElement = document.getElementById('update-date');
            if (updateDateElement) {
                updateDateElement.textContent = `${year}년 ${month}월 ${day}일`;
            }
        });
    </script>
</body>
</html>
