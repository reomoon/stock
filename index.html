<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Stock & News Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="refresh" content="300">
</head>
<body>
    <header>
        <h1>오늘의 주가 및 주요 뉴스</h1>
        <p>이 페이지는 5분마다 자동으로 새로고침됩니다.</p>
    </header>
    
    <div style="text-align: center; padding: 50px;">
        <h2>데이터 로딩 중...</h2>
        <p>잠시만 기다려주세요.</p>
        
        <script>
        // GitHub Pages의 최신 데이터를 가져와서 표시
        fetch('/main.html') // main.html 파일을 비동기로 가져옴
            .then(response => response.text())
            .then(html => {
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                document.body.innerHTML = doc.body.innerHTML;

                // script 태그 수동 실행
                doc.querySelectorAll('script').forEach(oldScript => {
                const newScript = document.createElement('script');
                if (oldScript.src) {
                    newScript.src = oldScript.src;
                } else {
                    newScript.textContent = oldScript.textContent;
                }
                document.body.appendChild(newScript);
                });
            });
        </script>
    </div>
</body>
</html>
